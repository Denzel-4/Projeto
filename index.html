<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Flex:opsz,wght@8..144,100..1000&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="Assets/Styles/Home/Home.css" />
    <link rel="stylesheet" href="Assets/Styles/conteudoPage/style.css" />
    <link rel="stylesheet" href="Assets/Styles/global/components.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <title>AutoFix - Oficina Inteligente</title>
  </head>

  <body>
    <div class="overlay" id="overlay"></div>

    <header class="cabecalho">
      <div class="container">
        <div class="cabecalho-conteudo">
          <a href="#" class="logo">
            <i class="fas fa-wrench"></i>
            AutoFix
          </a>

          <nav class="menu-navegacao desktop">
            <a href="#">Home</a>
            <a href="#servicos">Serviços</a>
            <a href="#sobre">Sobre</a>
            <a href="#contato">Contato</a>

            <!-- Área do usuário - será preenchida dinamicamente -->
            <div id="user-area">
              <a
                href="#"
                class="botao botao-contorno"
                onclick="abrirPopup('loginPopup')"
              >
                <i class="fas fa-sign-in-alt"></i>
                Login
              </a>
              <a
                href="#"
                class="botao botao-primario"
                onclick="verificarLoginParaAgendar()"
              >
                <i class="fas fa-calendar-plus"></i>
                Agendar
              </a>
            </div>
          </nav>

          <div class="mobille">
            <button
              class="bg-transparent border-0"
              type="button"
              data-bs-toggle="offcanvas"
              data-bs-target="#offcanvasScrolling"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="40"
                height="40"
                fill="white"
                class="bi bi-list"
                viewBox="0 0 16 16"
              >
                <path
                  fill-rule="evenodd"
                  d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"
                />
              </svg>
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- Popup de Login -->
    <div id="loginPopup" class="popup">
      <div class="popup-content">
        <button class="fechar" onclick="fecharPopup('loginPopup')">×</button>
        <h2>Login</h2>
        <form id="loginForm">
          <input type="email" id="loginEmail" placeholder="E-mail" required />
          <input
            type="password"
            id="loginPassword"
            placeholder="Senha"
            required
          />
          <button type="submit">Entrar</button>
        </form>
        <p>Ainda não tem conta? <a href="cadastro.html">Cadastre-se</a></p>
      </div>
    </div>

    <!-- Popup de Agendamento -->
    <div id="agendamentoPopup" class="popup">
      <div class="popup-content">
        <button class="fechar" onclick="fecharPopup('agendamentoPopup')">
          ×
        </button>
        <h2>Você já possui cadastro?</h2>
        <div class="container_buttons">
          <button
            onclick="abrirPopup('loginPopup'); fecharPopup('agendamentoPopup')"
          >
            Sim
          </button>
          <button onclick="window.location.href='cadastro.html'">Não</button>
        </div>
      </div>
    </div>

    <main class="home">
      <section class="home_conteudo">
        <div class="interface">
          <div class="home_content">
            <h1>OFICINA <span>INTELIGENTE</span></h1>
            <p>
              Agende, acompanhe e otimize seus serviços automotivos de forma
              rápida e prática! Nosso sistema online oferece orçamentos
              automáticos e organiza toda a gestão da sua oficina. Transforme a
              experiência para você e seus clientes!
            </p>
            <div class="container_buttons">
              <button
                class="btn btnH btn_laranja"
                onclick="verificarLoginParaAgendar()"
              >
                AGENDAR
              </button>
              <a href="#sobre">
                <button class="btn btnH btn_laranja2">SAIBA MAIS</button>
              </a>
            </div>
          </div>
        </div>
      </section>

      <section class="conteudoPage_hero">
        <section class="container_cards interface">
          <article class="card">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="70"
              height="70"
              fill="#FF6B35"
              class="bi bi-hammer"
              viewBox="0 0 16 16"
            >
              <path
                d="M9.972 2.508a.5.5 0 0 0-.16-.556l-.178-.129a5 5 0 0 0-2.076-.783C6.215.862 4.504 1.229 2.84 3.133H1.786a.5.5 0 0 0-.354.147L.146 4.567a.5.5 0 0 0 0 .706l2.571 2.579a.5.5 0 0 0 .708 0l1.286-1.29a.5.5 0 0 0 .146-.353V5.57l8.387 8.873A.5.5 0 0 0 14 14.5l1.5-1.5a.5.5 0 0 0 .017-.689l-9.129-8.63c.747-.456 1.772-.839 3.112-.839a.5.5 0 0 0 .472-.334"
              />
            </svg>
            <div class="card_content">
              <h2>SERVIÇOS</h2>
              <p>
                Veja todos os serviços que oferecemos e os benefícios para o seu
                veículo.
              </p>
              <a href="#servicos">
                <button class="btn btnH btn_laranja">ACESSAR</button>
              </a>
            </div>
          </article>
          <article class="card">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="70"
              height="70"
              fill="#FF6B35"
              class="bi bi-clipboard-data-fill"
              viewBox="0 0 16 16"
            >
              <path
                d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5z"
              />
              <path
                d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5zM10 8a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0zm-6 4a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0zm4-3a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0v-3a1 1 0 0 1 1-1"
              />
            </svg>
            <div class="card_content">
              <h2>Agendar</h2>
              <p>Clique aqui para agendar a sua manutenção</p>
              <a href="agendar.html"
                ><button class="btn btnH btn_laranja">ACESSAR</button></a
              >
            </div>
          </article>
          <article class="card">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="70"
              height="70"
              fill="#FF6B35"
              class="bi bi-person-check-fill"
              viewBox="0 0 16 16"
            >
              <path
                fill-rule="evenodd"
                d="M15.854 5.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L12.5 7.793l2.646-2.647a.5.5 0 0 1 .708 0"
              />
              <path
                d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"
              />
            </svg>
            <div class="card_content">
              <h2>CONTATO</h2>
              <p>Fale conosco para tirar dúvidas ou agendar um atendimento.</p>
              <a href="#contato">
                <button class="btn btnH btn_laranja">ACESSAR</button>
              </a>
            </div>
          </article>
          <article class="card">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="70"
              height="70"
              fill="#FF6B35"
              class="bi bi-car-front-fill"
              viewBox="0 0 16 16"
            >
              <path
                d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679q.05.242.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.8.8 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2m10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2zM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17s3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z"
              />
            </svg>
            <div class="card_content">
              <h2>SOBRE</h2>
              <p>
                Saiba mais sobre a Autofix, com tecnologia e agilidade de
                atendimento!
              </p>
              <a href="#sobre">
                <button class="btn btnH btn_laranja">ACESSAR</button>
              </a>
            </div>
          </article>
        </section>
      </section>
    </main>

    <section class="servicos interface" id="servicos">
      <h3 class="title">Com que podemos <span>ajudar você...</span></h3>
      <div class="servicos_container">
        <div class="servicos_card servicos_card1">
          <div class="container_imagem">
            <img
              src="/Assets/Imgs/manutencao.png"
              alt="Manutenção Preventiva"
            />
          </div>
          <div>
            <h4>Manutenção Preventiva</h4>
            <p>
              A manutenção preventiva é a melhor forma de evitar surpresas
              desagradáveis, como quebras inesperadas ou altos custos com
              consertos. Aqui na nossa oficina, realizamos uma verificação
              completa do seu carro, seguindo as recomendações do fabricante e
              utilizando peças de qualidade.
            </p>
            <ul>
              <li>Troca de óleo e filtros</li>
              <li>Revisão de freios</li>
              <li>Verificação de bateria</li>
              <li>Alinhamento e balanceamento</li>
            </ul>
          </div>
        </div>
        <div class="servicos_card servicos_card2">
          <div class="container_imagem">
            <img src="/Assets/Imgs/sevicos (1).png" alt="Serviços de Motor" />
          </div>
          <div>
            <h4>Serviços de Motor</h4>
            <p>
              O motor é o coração do seu veículo, e aqui na AutoFix, cuidamos
              dele com toda a atenção e conhecimento que ele merece. Trabalhamos
              com diagnósticos precisos e soluções eficazes para garantir o
              máximo desempenho e durabilidade do seu motor.
            </p>
            <ul>
              <li>Diagnóstico eletrônico</li>
              <li>Troca de correia dentada</li>
              <li>Limpeza de bicos</li>
              <li>Regulagem de válvulas</li>
            </ul>
          </div>
        </div>
        <div class="servicos_card servicos_card1">
          <div class="container_imagem">
            <img src="/Assets/Imgs/sevicos (3).png" alt="Sistema Elétrico" />
          </div>
          <div>
            <h4>Sistema elétrico</h4>
            <p>
              O sistema elétrico é o cérebro do seu veículo. Ele comanda tudo:
              ignição, iluminação, painel, som, vidros elétricos, travas,
              sensores e muito mais. Por isso, qualquer falha elétrica pode
              comprometer o conforto, a segurança e até a partida do seu carro.
            </p>
            <ul>
              <li>Verificação da bateria</li>
              <li>Reparo em chicotes e conexões elétricas</li>
              <li>Troca de lâmpadas, fusíveis e relês</li>
              <li>
                Instalação de acessórios (alarme, som, faróis auxiliares, etc.)
              </li>
            </ul>
          </div>
        </div>
        <div class="servicos_card servicos_card2">
          <div class="container_imagem">
            <img src="/Assets/Imgs/sevicos (2).png" alt="Sistema de Freios" />
          </div>
          <div>
            <h4>Sistema de Freios</h4>
            <p>
              Freios em bom estado salvam vidas. Por isso, tratamos o sistema de
              freios com máxima prioridade. Trabalhamos com atenção total aos
              detalhes, peças de qualidade e profissionais experientes para
              garantir que seu carro pare com segurança em qualquer situação.
            </p>
            <ul>
              <li>Revisão completa do sistema de freios</li>
              <li>Troca de pastilhas e lonas</li>
              <li>Substituição de discos e tambores</li>
              <li>Verificação e troca de fluido de freio</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <section class="sobre">
      <section class="container_flex container_flex1" id="sobre">
        <div class="flex_imagem">
          <img src="/Assets/Imgs/sobre (1).jpg" alt="Sobre a AutoFix" />
        </div>
        <div class="content">
          <div class="container_flex_content primeiro">
            <h4 class="title_big2">Sobre a Mecanica<span> Autofix</span></h4>
            <p>
              A Autofix é uma oficina mecânica dedicada a oferecer um serviço de
              qualidade, com confiança, responsabilidade e transparência em cada
              atendimento. Nossa equipe é formada por profissionais experientes
              e apaixonados por mecânica, prontos para cuidar do seu veículo com
              atenção aos detalhes e uso das melhores peças e tecnologias do
              mercado. Realizamos desde revisões preventivas até reparos
              completos em motor, freios, sistema elétrico e muito mais.<br /><br />

              Nosso compromisso é garantir a segurança e o bom desempenho do seu
              carro, evitando surpresas desagradáveis e prolongando sua vida
              útil. Na Autofix, cada cliente é atendido com respeito e clareza,
              porque acreditamos que quem confia o carro à nossa oficina, merece
              mais do que um bom serviço — merece tranquilidade.
            </p>
          </div>
        </div>
      </section>
      <section class="Sobre container_flex container_flex2" id="">
        <div class="flex_imagem">
          <img src="/Assets/Imgs/sobre (2).jpg" alt="Contatos da AutoFix" />
        </div>
        <div class="content">
          <div class="container_flex_content" id="contato">
            <h4 class="title_big">Contatos da<span> Autofix</span></h4>
            <p>
              Na Auto Fix, valorizamos cada interação com nossos clientes e
              sabemos da importância de estar presente onde você está: nas redes
              sociais! Por isso, mantemos nossos perfis sempre atualizados com
              conteúdos relevantes, dicas de manutenção, novidades do setor
              automotivo e, claro, nossos serviços e promoções exclusivas.
            </p>
            <div class="container_social">
              <button class="Btn instagram">
                <svg
                  class="svgIcon"
                  viewBox="0 0 448 512"
                  height="1.5em"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"
                  ></path>
                </svg>
                <span class="text">Instagram</span>
              </button>
              <button class="Btn youtube">
                <svg
                  class="svgIcon"
                  viewBox="0 0 576 512"
                  height="1.5em"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M549.655 148.28c-6.281-23.64-24.041-42.396-47.655-48.685C462.923 85 288 85 288 85S113.077 85 74 99.595c-23.614 6.289-41.374 25.045-47.655 48.685-12.614 47.328-12.614 147.717-12.614 147.717s0 100.39 12.614 147.718c6.281 23.64 24.041 42.396 47.655 48.684C113.077 427 288 427 288 427s174.923 0 214-14.595c23.614-6.289 41.374-25.045 47.655-48.685 12.614-47.328 12.614-147.718 12.614-147.718s0-100.389-12.614-147.717zM240 336V176l144 80-144 80z"
                  ></path>
                </svg>
                <span class="text">YouTube</span>
              </button>
              <button class="Btn twitter">
                <svg
                  class="svgIcon"
                  viewBox="0 0 512 512"
                  height="1.5em"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M512 97.248c-18.84 8.36-39.082 14.008-60.277 16.54 21.62-12.92 38.212-33.216 46.042-57.45-20.242 12-42.71 20.67-66.61 25.41-19.128-20.412-46.344-33.21-76.51-33.21-58 0-105 47-105 105 0 8.22.926 16.188 2.714 23.914-87.18-4.376-164.66-46.2-216.45-109.97-9.066 15.508-14.254 33.586-14.254 52.836 0 36.37 18.54 68.542 46.844 87.428-17.272-.554-33.52-5.286-47.754-13.158v1.32c0 50.828 36.13 93.15 84.198 102.79-8.826 2.396-18.14 3.686-27.734 3.686-6.78 0-13.34-.664-19.676-1.902 13.36 41.77 52.164 72.198 98.116 73.052-35.96 28.17-81.38 44.99-130.76 44.99-8.54 0-16.94-.5-25.14-1.476 46.684 29.922 101.99 47.31 161.18 47.31 193.32 0 298.924-160.078 298.924-298.926 0-4.554-.106-9.086-.306-13.594 20.546-14.824 38.364-33.298 52.456-54.422z"
                  ></path>
                </svg>
                <span class="text">Twitter</span>
              </button>
            </div>
          </div>
        </div>
      </section>
    </section>

    <footer class="rodape">
      <div class="rodape-container interface">
        <a href="politicas.html" style="color: white">Política de Privacidade</a
        ><br />
        <a href="termos.html" style="color: white">Termos de Uso</a><br />
        <a href="contato.html" style="color: white">Fale Conosco</a><br /><br />
        <p>
          Estamos em conformidade com a
          <strong>Lei Geral de Proteção de Dados (LGPD)</strong>.
        </p>
        <br /><br />
        <p>© 2025 AutoFix | Todos os direitos reservados.</p>
      </div>
    </footer>

    <div
      class="offcanvas offcanvas-end"
      data-bs-scroll="true"
      data-bs-backdrop="false"
      tabindex="-1"
      id="offcanvasScrolling"
    >
      <div class="offcanvas-header">
        <h5 class="offcanvas-title">Conheça mais a AutoFix</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="offcanvas"
        ></button>
      </div>
      <div class="offcanvas-body" style="padding: 0px">
        <nav class="navegacao">
          <li><a href="#">HOME</a></li>
          <li><a href="#servicos">Serviços</a></li>
          <li><a href="#sobre">SOBRE</a></li>
          <li><a href="#contato">CONTATO</a></li>
          <div class="container_buttons">
            <button class="btn btn_laranja" onclick="abrirPopup('loginPopup')">
              LOGIN
            </button>
            <button
              class="btn btn_laranja2"
              onclick="verificarLoginParaAgendar()"
            >
              AGENDAR
            </button>
          </div>
        </nav>
      </div>
    </div>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // Configuração do Firebase
      const firebaseConfig = {
        apiKey: "AIzaSyA4ek9mJ3RomY25W4uTq4M7AHy2Q3a24iU",
        authDomain: "projeto-ec888.firebaseapp.com",
        projectId: "projeto-ec888",
        storageBucket: "projeto-ec888.firebasestorage.app",
        messagingSenderId: "818995568430",
        appId: "1:818995568430:web:7b3b1c3465e1c815e324bf",
      };

      // Inicializar Firebase
      firebase.initializeApp(firebaseConfig);
      const auth = firebase.auth();
      const db = firebase.firestore();

      // Variáveis globais
      let currentUser = null;

      // Funções de popup
      function abrirPopup(id) {
        document.getElementById(id).style.display = "block";
        document.getElementById("overlay").style.display = "block";
      }

      function fecharPopup(id) {
        document.getElementById(id).style.display = "none";
        document.getElementById("overlay").style.display = "none";
      }

      // Função para mostrar notificações
      function mostrarNotificacao(mensagem, tipo = "sucesso") {
        const notificacao = document.createElement("div");
        notificacao.className = `notificacao ${tipo}`;
        notificacao.innerHTML = mensagem;
        document.body.appendChild(notificacao);

        setTimeout(() => {
          notificacao.classList.add("fade-out");
          setTimeout(() => notificacao.remove(), 500);
        }, 3000);
      }

      // Verificar login para agendar
      function verificarLoginParaAgendar() {
        if (currentUser) {
          window.location.href = "agendar.html";
        } else {
          abrirPopup("agendamentoPopup");
        }
      }

      // Atualizar interface do usuário
      function atualizarInterfaceUsuario(user) {
        const userArea = document.getElementById("user-area");

        if (user) {
          // Buscar dados do usuário no Firestore
          db.collection("users")
            .doc(user.uid)
            .get()
            .then((doc) => {
              if (doc.exists) {
                const userData = doc.data();
                const nomeUsuario =
                  userData.dadosPessoais?.nome ||
                  user.displayName ||
                  user.email.split("@")[0];
                const isAdmin = userData.isAdmin || false;

                userArea.innerHTML = `
                            <div class="user-menu">
                                <button class="user-button" onclick="toggleUserDropdown()">
                                    <i class="fas fa-user"></i>
                                    ${nomeUsuario}
                                    <i class="fas fa-chevron-down"></i>
                                </button>
                                <div class="user-dropdown" id="userDropdown">
                                    <a href="meus-agendamentos.html">
                                        <i class="fas fa-calendar-check"></i> Meus Agendamentos
                                    </a>
                                    <a href="agendar.html">
                                        <i class="fas fa-calendar-plus"></i> Agendar Serviço
                                    </a>
                                    ${
                                      isAdmin
                                        ? '<a href="admin.html"><i class="fas fa-tools"></i> Painel Admin</a>'
                                        : ""
                                    }
                                    <a href="#" onclick="logout()">
                                        <i class="fas fa-sign-out-alt"></i> Sair
                                    </a>
                                </div>
                            </div>
                        `;
              }
            });
        } else {
          userArea.innerHTML = `
                    <a href="#" class="botao botao-contorno" onclick="abrirPopup('loginPopup')">
                        <i class="fas fa-sign-in-alt"></i>
                        Login
                    </a>
                    <a href="#" class="botao botao-primario" onclick="verificarLoginParaAgendar()">
                        <i class="fas fa-calendar-plus"></i>
                        Agendar
                    </a>
                `;
        }
      }

      // Toggle dropdown do usuário
      function toggleUserDropdown() {
        const dropdown = document.getElementById("userDropdown");
        dropdown.classList.toggle("show");
      }

      // Fechar dropdown quando clicar fora
      document.addEventListener("click", function (event) {
        const userMenu = document.querySelector(".user-menu");
        if (userMenu && !userMenu.contains(event.target)) {
          const dropdown = document.getElementById("userDropdown");
          if (dropdown) {
            dropdown.classList.remove("show");
          }
        }
      });

      // Login com email e senha
      document
        .getElementById("loginForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const email = document.getElementById("loginEmail").value;
          const password = document.getElementById("loginPassword").value;

          auth
            .signInWithEmailAndPassword(email, password)
            .then((userCredential) => {
              mostrarNotificacao("Login realizado com sucesso!", "sucesso");
              fecharPopup("loginPopup");
            })
            .catch((error) => {
              console.error("Erro no login:", error);
              mostrarNotificacao("Erro no login: " + error.message, "erro");
            });
        });

      // Logout
      function logout() {
        auth
          .signOut()
          .then(() => {
            mostrarNotificacao("Logout realizado com sucesso!", "sucesso");
            currentUser = null;
            atualizarInterfaceUsuario(null);
          })
          .catch((error) => {
            console.error("Erro no logout:", error);
            mostrarNotificacao("Erro no logout", "erro");
          });
      }

      // Monitorar estado de autenticação
      auth.onAuthStateChanged((user) => {
        currentUser = user;
        atualizarInterfaceUsuario(user);
      });

      // Fechar popup ao clicar no overlay
      document.getElementById("overlay").addEventListener("click", function () {
        document.querySelectorAll(".popup").forEach((popup) => {
          popup.style.display = "none";
        });
        this.style.display = "none";
      });
    </script>
  </body>
</html>
